# Mesto сервер
Cервис, где люди делятся фотографиями интересных мест

# Демо
К api можно обратиться по адресу `api.russian-mesto.tk`, к статике по адресу `russian-mesto.tk` или по ip `84.201.159.129`

## В работе использовались:
Node js, MongoDB, Mongoose, Express

## Задачи
1. Добавьте email и password к схеме пользователя
2. Переработайте контроллер createUser
3. Создайте контроллер login
4. Создайте роут для логина и регистрации
5. Сделайте мидлвэр для авторизации
6. Защитите API авторизацией
7. Удалите хардкод
8. Проконтролируйте права
9. Сделайте так, чтобы API не возвращал хеш пароля

## Установка проекта

Скопируйте проект на компьютер:

```
git clone git@github.com:karpov2/Mesto-server.git
```

Установите зависимости проекта:

```
npm i
```

## Работа с сервером Node (express)

Перед началом работы необходимо проверить наличие установленного Node.js и npm

Запускаем сервер в режиме разработки

```
npm run dev:server
```

## Функционал сервера

В ответ на запрос `GET localhost:3000` сервер вернет статические файлы

В ответ на запрос `GET localhost:3000/users` сервер вернёт JSON-объект всех пользователей

В ответ на запрос `GET localhost:3000/cards` сервер вернёт JSON-объект всех карточек

В ответ на запрос `GET localhost:3000/users/8340d0ec33270a25f2413b69`, сервер вернёт JSON-объект пользователя с переданным после /users идентификатором

Если пользователя с запрошенным идентификатором нет, API возвращает `404 статус ответа` и `JSON: { "message": "Нет пользователя с таким id" }`

При запросе на несуществующий адрес, API возвращает `404 статус ответа` и `JSON: { "message": "Запрашиваемый ресурс не найден" }`

## Версионность проекта

Доступные версии смотрите в [тегах этого репозитория](https://github.com/karpov2/Mesto/tags).
